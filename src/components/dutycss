<style scoped>
@media screen {
  .staff {
    width: 9%;
  }

  .column-head {
    width: 13%;
  }

  .column {
    width: 4.3%;
  }

  .isHoliday {
    background-color: #e07264 !important;
  }

  .table-bordered {
    border: 1px solid black;
  }

  .table-bordered th {
    border: 1px solid black;
  }

  .table-bordered td {
    border: 1px solid black;
  }

  .table {
    border-collapse: collapse;
  }

  .input-form-control {
    font-size: 0.8em;
    padding: 0;
    text-align: center;
  }
}





  <thead class="table-primary text-center">
        <tr>
          <th style="width: 8%;">編號</th>
          <th style="width: 44%;">
            活動名稱
            <input
              type="text"
              placeholder="搜尋活動..."
              v-model="activityNameFilter"
            />
          </th>
          <th style="width: 8%;">
            <b-form-checkbox
              v-model="checkedVenueFilter"
              name="check-button"
              button
              button-variant="primary"
              size="sm"
            >
              租場
              <b
                ><span v-if="checkedVenueFilter">有效</span
                ><span v-else>全部</span></b
              >
            </b-form-checkbox>
          </th>
          <th style="width: 8%;">
            <b-form-checkbox
              v-model="checkedValidFilter"
              name="check-button"
              button
              button-variant="primary"
              size="sm"
            >
              顯示
              <b
                ><span v-if="checkedValidFilter">有效</span
                ><span v-else>全部</span></b
              >
            </b-form-checkbox>
          </th>
          <th style="width: 24%;">活動日期</th>
          <th style="width: 8%;">動作</th>
        </tr>
      </thead>
      <tbody>
        <tr
          class="text-center"
          v-for="row in filteredTable"
          v-bind:key="row.id"
        >
          <th style="width: 8%;">{{ row.id }}</th>
          <th style="width: 44%;">
            <span v-if="row.isModify">
              <b-form-input
                v-model="row.name"
                placeholder="row.name"
              ></b-form-input>
            </span>
            <span v-else>{{ row.name }}</span>
          </th>
          <td style="width: 8%;">
            <span v-if="row.isModify">
              <b-form-checkbox v-model="row.venue"></b-form-checkbox>
            </span>
            <span v-else
              ><b-form-checkbox disabled v-model="row.venue"></b-form-checkbox
            ></span>
          </td>
          <td style="width: 8%;">
            <span v-if="row.isModify">
              <b-form-checkbox v-model="row.active"></b-form-checkbox>
            </span>
            <span v-else
              ><b-form-checkbox disabled v-model="row.active"></b-form-checkbox
            ></span>
          </td>
          <td style="width: 24%;" class="text-left">
            <span v-if="row.isModify">
              <m-date-picker
                v-model="row.eventDate"
                :multi="multi"
                :format="formatDate"
              ></m-date-picker
            ></span>
            <span v-else>
            <div v-if="row.eventDate.length > 5">
              <div v-for="keyLittle in 5" v-bind:key="keyLittle">
                {{ keyLittle }} - {{ formatDate(row.eventDate[keyLittle]) }}
              </div>
              <div class="mx-1">
                <b-button v-b-toggle :href="'#id'+row.id" variant="primary" @click.prevent>更多</b-button>
              </div>
              <b-collapse :id="'id'+row.id">
                <div v-for="keyBig in row.eventDate.length - 5" v-bind:key="keyBig+5">
                    {{ keyBig + 5 }} - {{ formatDate(row.eventDate[keyBig+4]) }}
                </div>
              </b-collapse>
            </div>
            <div v-else>
              <div class="mx-1" v-for="(date, key) in row.eventDate" v-bind:key="key">
                {{ key + 1 }} - {{ formatDate(date) }}
              </div>
            </div>
            </span>
          </td>
          <td style="width: 8%;">
            <b-icon-dash-square
              class="h3"
              variant="danger"
              @click="confirmDeleteModal(row.id, row.docid)"
            />
            <span v-if="row.isModify">
              <b-icon-pencil-square
                @click="confirmChangeModal(row.id)"
                class="h3"
                variant="success"
            /></span>
            <span v-else>
              <b-icon-pencil-square
                @click="toggleModifyActivity(row.id)"
                class="h3"
                variant="primary"
              />
            </span>
          </td>
        </tr>
        <tr class="text-center">
          <th style="width: 8%;">新增</th>
          <th style="width: 44%;">
            <b-form-input
              v-model="new_activity.name"
              placeholder="新活動名稱..."
            ></b-form-input>
          </th>
          <td style="width: 8%;">
            <b-form-checkbox v-model="new_activity.venue"></b-form-checkbox>
          </td>
          <td style="width: 8%;">
            <b-form-checkbox v-model="new_activity.active"></b-form-checkbox>
          </td>
          <td style="width: 24%;">
            <m-date-picker
              v-model="new_activity.eventDate"
              :multi="multi"
              :format="formatDate"
            ></m-date-picker>
          </td>
          <td style="width: 8%;">
            <b-icon-plus-square
              @click="confirmAddModal(new_activity.id)"
              class="h3"
              variant="primary"
            />
          </td>
        </tr>
      </tbody>

/* @media only screen and (max-width: 760px) { */
/* For mobile phones: */
/*  .staff {
    width: 80px !important;
  }

  .column-head {
    width: 200px !important;
  }

  .column {
    width: 66px !important;
  }
}
*/

@media screen and (max-width: 600px) {
  table {
    border: 0;
  }

  table thead {
    border: none;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }

  table tbody tr {
    border-bottom: 1px solid #ddd;
    display: block;
    /* margin-bottom: .625em; */
  }

  table tbody td {
    border-bottom: 1px solid #ddd;
    display: block;
    /* text-align: right; */
    display: flex;
    justify-content: space-between;
  }

  table tbody td::before {
    /*
    * aria-label has no advantage, it won't be read inside a table
    content: attr(aria-label);
    */
    content: attr(data-label);
    /* text-align: left; */
    display: flex;
    justify-content: space-between;
  }

  table tbody td:last-child {
    border-bottom: 0;
  }

  .input-form-control {
    width: 100px;
  }

  .approved {
    box-sizing: border-box;
    border-radius: 3px;
    background: lightgreen;
    padding: 0 5px;
  }

  .table .invalid {
    border-color: red;
  }
}

@media screen and (min-width: 600px) {
  .table .staff {
    width: 9% !important;
  }

  .table .column-head {
    width: 13% !important;
  }

  .table .column {
    width: 4.33% !important;
  }

  .approved {
    box-sizing: border-box;
    border-radius: 3px;
    background: lightgreen;
    padding: 0 5px;
  }

  .table .invalid {
    border-color: red;
  }
}

@media print {
  .table {
    table-layout: fixed !important;
  }

  .table .staff {
    width: 42px !important;
  }

  .table thead th {
    background-color: lightgray !important;
    overflow: hidden !important;
    width: 75px !important;
  }
  .table th {
    border: 1px solid black !important;
    overflow: hidden !important;
    width: 75px !important;
  }
  .table tbody td {
    border: 1px solid black !important;
    overflow: hidden !important;
    width: 75px !important;
  }
}
</style>







 <q-fab color="primary" text-color="black" icon="keyboard_arrow_left" direction="left">
            <q-fab-action v-if="!isModifying" color="grey" text-color="black" @click="editRow(props.row.id)" icon="edit" />
            <q-fab-action v-if="!isModifying" color="grey" text-color="black" @click="confirmDeleteModal(props.row.id, props.row.docid)" icon="delete" />
            <q-fab-action v-if="isModifying && editingRow.id == props.row.id" color="grey" text-color="black" @click="confirmSaveModal()" icon="save" />
            <q-fab-action v-if="isModifying && editingRow.id == props.row.id" color="grey" text-color="black" @click="confirmCancelSaveModal()" icon="clear" />
            <q-fab-action v-if="!isModifying" color="grey" text-color="black" @click="props.row.expanded = !props.row.expanded" :icon-right="props.row.expanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down'" />
          </q-fab>


  <b-modal id="modifyActivityNameModal" title="修改活動名稱">
      <p class="my-4">活動日期：{{ modifyObjectFormatDate }}</p>
      <p>
        活動名稱：<b-form-input
          v-model="modifyObject.customName"
          default="modifyObject.name"
          >{{ modifyObject.customName }}</b-form-input
        >
      </p>

      <template #modal-footer>
        <div class="w-100">
          <b-button
            variant="danger"
            size="lg"
            class="float-left"
            @click="closeModal('modifyActivityNameModal')"
          >
            取消
          </b-button>
          <b-button
            variant="warning"
            size="lg"
            class="float-left"
            @click="resetName"
          >
            重置
          </b-button>
          <b-button
            variant="primary"
            size="lg"
            class="float-right"
            @click="modifyName"
          >
            確認
          </b-button>
        </div>
      </template>
    </b-modal>



@media print and (max-width: 210mm) {
  @page {
    size: letter portrait;
  }
  table .caption {
    //width: 20.3mm;
    width: 50vw !important;
    padding: 0 !important;
    vertical-align: top;
  }

  .caption {
    width: 100mm;
  }

  table .column-head {
    padding: 0 !important;
    width: 8vw !important;
    vertical-align: top;
  }

  table thead th {
    background-color: lightgray !important;
  }

  ul li.eventItem {
    list-style: none;
    border: 0.5px solid black;
    padding: 0.5m 1mm 0.5mm 1mm !important;
    font-size: 5px !important;
    //margin: 0 !important;
    //font-size: 0.7vmin !important;
    //line-height: 0.7vmin !important;
  }
}
